Version 4
SHEET 1 1672 1268
WIRE 224 -1232 80 -1232
WIRE 352 -1232 224 -1232
WIRE 400 -1232 352 -1232
WIRE 512 -1232 480 -1232
WIRE 80 -1216 80 -1232
WIRE 224 -1136 224 -1232
WIRE 272 -1136 224 -1136
WIRE 352 -1120 352 -1232
WIRE 352 -1120 336 -1120
WIRE -224 -1104 -256 -1104
WIRE -176 -1104 -224 -1104
WIRE -64 -1104 -96 -1104
WIRE -32 -1104 -64 -1104
WIRE 80 -1104 80 -1152
WIRE 80 -1104 48 -1104
WIRE 112 -1104 80 -1104
WIRE 224 -1104 192 -1104
WIRE 272 -1104 224 -1104
WIRE -256 -1056 -256 -1104
WIRE -64 -1056 -64 -1104
WIRE 224 -1056 224 -1104
WIRE -256 -944 -256 -976
WIRE -64 -944 -64 -992
WIRE -64 -944 -256 -944
WIRE 224 -944 224 -992
WIRE 224 -944 -64 -944
WIRE 224 -912 224 -944
WIRE 224 -768 80 -768
WIRE 352 -768 224 -768
WIRE 400 -768 352 -768
WIRE 512 -768 480 -768
WIRE 80 -752 80 -768
WIRE 224 -672 224 -768
WIRE 272 -672 224 -672
WIRE 352 -656 352 -768
WIRE 352 -656 336 -656
WIRE -240 -640 -256 -640
WIRE -176 -640 -240 -640
WIRE -64 -640 -96 -640
WIRE -32 -640 -64 -640
WIRE 80 -640 80 -688
WIRE 80 -640 48 -640
WIRE 112 -640 80 -640
WIRE 224 -640 192 -640
WIRE 272 -640 224 -640
WIRE -256 -608 -256 -640
WIRE -64 -592 -64 -640
WIRE 224 -592 224 -640
WIRE -256 -480 -256 -528
WIRE -64 -480 -64 -528
WIRE -64 -480 -256 -480
WIRE 224 -480 224 -528
WIRE 224 -480 -64 -480
WIRE 224 -448 224 -480
WIRE 320 -320 272 -320
WIRE 320 -288 320 -320
WIRE 320 -128 320 -208
WIRE -272 -32 -304 -32
WIRE 320 -32 304 -32
WIRE -304 0 -304 -32
WIRE 320 0 320 -32
WIRE -304 160 -304 80
WIRE 320 160 320 80
FLAG 224 -912 0
FLAG 512 -1232 Filter_50%
FLAG 320 -128 0
FLAG 272 -320 Settle_Time
FLAG -272 -32 Full_Scale_Fraction_p
FLAG -304 160 0
FLAG 512 -768 Filter_full_step
FLAG 224 -448 0
FLAG 304 -32 Full_Scale_Fraction_m
FLAG 320 160 0
FLAG -240 -640 IN_full_step
FLAG -224 -1104 IN_50%
SYMBOL voltage 320 -304 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 -667 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(-1 1 0 10n 10n {Best_Settling_time} 100)
SYMBOL voltage -304 -16 R0
WINDOW 3 13 146 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 17 16 Invisible 2
SYMATTR Value {Full_Scale_Fraction}
SYMATTR InstName V10
SYMATTR Value2 AC 1
SYMBOL voltage 384 -1232 R270
WINDOW 0 32 56 Invisible 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName V8
SYMATTR Value .5
SYMBOL voltage 384 -768 R270
WINDOW 0 32 56 Invisible 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName V15
SYMATTR Value 1
SYMBOL res -80 -656 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {r1}
SYMBOL res 64 -656 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {r2}
SYMBOL res 208 -656 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {r3}
SYMBOL cap -80 -592 R0
WINDOW 0 24 8 Invisible 2
SYMATTR InstName C6
SYMATTR Value {c1}
SYMBOL cap 240 -592 M0
WINDOW 0 24 8 Invisible 2
SYMATTR InstName C7
SYMATTR Value {c3}
SYMBOL cap 96 -752 M0
WINDOW 0 46 33 Invisible 2
WINDOW 3 -61 34 Left 2
SYMATTR InstName C9
SYMATTR Value {c2}
SYMBOL OpAmps\\opamp 304 -720 R0
WINDOW 0 -5 25 Invisible 2
SYMATTR InstName U4
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=10G
SYMBOL voltage 320 -16 R0
WINDOW 3 -281 143 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 17 16 Invisible 2
SYMATTR Value {-Full_Scale_Fraction}
SYMATTR InstName V4
SYMATTR Value2 AC 1
SYMBOL voltage -256 -624 R0
WINDOW 3 -346 59 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 15 16 Invisible 2
SYMATTR Value PULSE(0 1 0 .1u .1u 1 2)
SYMATTR InstName V7
SYMBOL res -80 -1120 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {r1}
SYMBOL res 64 -1120 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {r2}
SYMBOL res 208 -1120 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {r3}
SYMBOL cap -80 -1056 R0
WINDOW 0 24 8 Invisible 2
SYMATTR InstName C1
SYMATTR Value {c1}
SYMBOL cap 240 -1056 M0
WINDOW 0 24 8 Invisible 2
SYMATTR InstName C2
SYMATTR Value {c3}
SYMBOL cap 96 -1216 M0
WINDOW 0 46 33 Invisible 2
WINDOW 3 -61 34 Left 2
SYMATTR InstName C3
SYMATTR Value {c2}
SYMBOL OpAmps\\opamp 304 -1184 R0
WINDOW 0 -5 25 Invisible 2
SYMATTR InstName U1
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=10G
SYMBOL voltage -256 -1072 R0
WINDOW 3 -720 53 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 24 16 Invisible 2
SYMATTR Value PULSE(0 1 0 .001u .001u {.5/pwm_Hz - .001u} {1/pwm_Hz})
SYMATTR InstName V1
TEXT -912 -296 Left 2 !.include exact.txt\n \n.tran 1u {Best_Settling_time*1.5} 0\n.options plotwinsize 0\n.plot exact.plt\n \n.lib opamp.sub
TEXT 352 -1072 Center 2 ;Near ideal\n op amp
TEXT 336 -592 Center 2 ;Near ideal\n op amp
